<!DOCTYPE html>

<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"><![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <!--[if IE ]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><![endif]-->
    
    <title>Geektool Setup - Myles Braithwaite</title>
    <meta name="author" content="Myles Braithwaite <me@mylesbraithwaite.com>">
    
    <meta name="viewport" content="width=device-width; initial-scale=1; maximum-scale=1;">

    <!-- All the Feeds -->
    <link rel="alternate" type="application/atom+xml" href="http://mylesbraithwaite.com/feeds/atom.xml" title="All of Myles Braithwaite Posts">
    <link rel="alternate" type="application/atom+xml" href="http://mylesbraithwaite.com/feeds/journal/atom.xml" title="All of Myles Braithwaite Journal Posts">
    <link rel="alternate" type="application/atom+xml" href="http://mylesbraithwaite.com/feeds/linked/atom.xml" title="All of Myles Braithwaite Linked Posts">
    
    <link rel="archives" href="/archives.html">
    <link rel="author" href="/about/">
    <link rel="previous" href="/journal/2009/12/project52/" title="Project52">
    <link rel="next" href="/journal/2010/01/pygta/" title="Tornado at PyGTA">
    
    <link rel="license" href="/about/license.html">
    
    <meta name="generator" content="Jekyll">
    
    <link rel="openid.server" href="http://openid.claimid.com/server"> 
    <link rel="openid.delegate" href="http://openid.claimid.com/myles">
    
    <link rel="meta" type="application/rdf+xml" title="FOAF" href="foaf.rdf">
    
    <link rel="shortcut icon" href="/media/img/favicon.ico">
    
    <!-- Internet Explore 9 Stuff -->
    <meta name="application-name" content="Myles Braithwaite">
    <meta name="msapplication-starturl" content="http://mylesbraithwaite.com/">
    <meta name="msapplication-task" content="name=Home;action-uri=http://mylesbraithwaite.com/">
    <meta name="msapplication-task" content="name=About;action-uri=http://mylesbraithwaite.com/about/">
    
    <!-- iOS Stuff -->
    <link rel="apple-touch-icon" href="/media/img/apple-touch-icon-iphone.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/media/img/apple-touch-icon-ipad.png">
    <link rel="apple-touch-icon" size="114x114" href="/media/img/apple-touch-icon-iphone4.png">
    <link rel="apple-touch-startup-image" href="/media/img/apple-touch-startup.png">
    
    <link rel="stylesheet" href="/media/css/style.css?v=20110503">
    
    <!-- All JavaScript at the bottom, except for Modernizr which enables HTML5 elements & feature detects -->
    <script type="text/javascript" charset="utf-8" src="/media/js/libs/modernizr-1.7.js"></script>
    
    <script type="text/javascript" charset="utf-8">
        var _gaq = _gaq || [];
        _gaq.push(
            ['_setAccount', 'UA-1642439-2'],
            ['_trackPageview']
        );
        
        (function() {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    
    <meta name="readability-verification" content="V2rs9Pd2K4fFvncqAbjX6yqgtHCgPR7EG2TNb9vK">
    
    
    <link rel="canonical" href="http://mylesbraithwaite.com/journal/2010/01/geektool/">
</head>
<body>
    <div id="container">
        <header id="top">
            <h1><a href="/">Myles Braithwaite</a></h1>
            <nav>
                <a href="/" title="Home">Home</a>
                <a href="/archives.html" title="Archive">Archive</a>
                <a href="/about/" title="About" rel="author">About</a>
                <a href="/feeds/" title="Subsribe">Subscribe</a>
            </nav>
        </header>
        
        <div id="main">
            <article class="post hentry">
    <header>
        <h1 class="entry-title">Geektool Setup</h1>
        <p class="updated" title="2010-01-02T17:45:00-05:00Z">Saturday,&nbsp;02&nbsp;January&nbsp;2010&nbsp;at&nbsp;05:45 PM</p>
        <p class="byline author vcard">
            (by&nbsp;<span class="fn"><a href="/about/" rel="author me">Myles&nbsp;Braithwaite</a></span>)
        </p>
    </header>
    
    <section class="entry-content">
        <p>I recently installed <a href="http://projects.tynsoe.org/en/geektool/" rel="external">Geektool</a> on my MacBook Pro. I used so many sources to set it up that I thought it would be a good idea that I write a blog post about some of the more complicated configurations.</p>

<p><a href="http://www.flickr.com/photos/mylesbraithwaite/4237928127/" rel="external"><img src="http://farm5.static.flickr.com/4051/4237928127_d2e13648c1_m.jpg" alt="My Geektool Setup" /></a></p>

<h3 id="sunrise--sunset">Sunrise &amp; Sunset</h3>

<p><img src="/media/uploads/posts/2010-01-02-geektool/01-sunrise-and-sunset.png" alt="Sunrise &amp; Sunset" /></p>

<p>I am getting the sunrise &amp; sunset data from <a href="http://wund.com/" rel="external">weather underground</a> <a href="http://m.wund.com" rel="external">mobile website</a>.</p>

<h4 id="sunrise">Sunrise</h4>

<pre><code>curl --silent http://m.wund.com/global/stations/71265.html | grep 'Sunrise' | sed -e :a -e 's/]*&amp;gt;//g;/&amp;lt;/N;//ba' | sed -e 's/Sunrise/Sunrise: /g' | sed -e 's/EST//g'
</code></pre>

<h4 id="sunset">Sunset</h4>

<pre><code>curl --silent http://m.wund.com/global/stations/71265.html | grep 'Sunset' | sed -e :a -e 's/]*&amp;gt;//g;/&amp;lt;/N;//ba' | sed -e 's/Sunset/Sunset: /g' | sed -e 's/EST//g'
</code></pre>

<h3 id="ip-addresses">IP Addresses</h3>

<p><img src="/media/uploads/posts/2010-01-02-geektool/02-ip-addresses.png" alt="IP Addresses" /></p>

<div class="highlight"><pre><code class="bash"><span class="c">#!/bin/sh</span>
<span class="nv">myen0</span><span class="o">=</span><span class="sb">`</span>ifconfig en0 | grep <span class="s2">&quot;inet &quot;</span> | grep -v 127.0.0.1 | awk <span class="s1">&#39;{print $2}&#39;</span><span class="sb">`</span>
<span class="nv">myen1</span><span class="o">=</span><span class="sb">`</span>ifconfig en1 | grep <span class="s2">&quot;inet &quot;</span> | grep -v 127.0.0.1 | awk <span class="s1">&#39;{print $2}&#39;</span><span class="sb">`</span>
<span class="nv">wip</span><span class="o">=</span><span class="sb">`</span>/usr/bin/curl --silent http://checkip.dyndns.org | awk <span class="s1">&#39;{print $6}&#39;</span> | cut -f 1 -d <span class="s2">&quot;&lt;&quot;</span><span class="sb">`</span>
<span class="nv">INACTIVE</span><span class="o">=</span><span class="s1">&#39;INACTIVE&#39;</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;$myen0&quot;</span> !<span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">]</span>
<span class="k">then</span>
<span class="k">	</span><span class="nb">echo</span> <span class="s2">&quot;Ethernet:	$myen0&quot;</span>
<span class="k">else</span>
<span class="k">	</span><span class="nb">echo</span> <span class="s2">&quot;Ethernet:	$INACTIVE&quot;</span>
<span class="k">fi</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;$myen1&quot;</span> !<span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">]</span>
<span class="k">then</span>
<span class="k">	</span><span class="nb">echo</span> <span class="s2">&quot;Wireless:	$myen1&quot;</span>
<span class="k">else</span>
<span class="k">	</span><span class="nb">echo</span> <span class="s2">&quot;Wireless:	$INACTIVE&quot;</span>
<span class="k">fi</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;$wip&quot;</span> !<span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="o">]</span>
<span class="k">then</span>
<span class="k">	</span><span class="nb">echo</span> <span class="s2">&quot;External:	$wip&quot;</span>
<span class="k">else</span>
<span class="k">	</span><span class="nb">echo</span> <span class="s2">&quot;External: $INAVTIVE&quot;</span>
<span class="k">fi</span>
</code></pre>
</div>

<h3 id="weather-image">Weather Image</h3>

<p><img src="/media/uploads/posts/2010-01-02-geektool/03-weather-image.png" alt="Weather Image" /></p>

<div class="highlight"><pre><code class="bash"><span class="c">#!/bin/sh</span>
<span class="c"># Get weather image</span>
<span class="c"># Add this to your crontab.</span>

<span class="nv">YAHOO_WEATHER_HTML</span><span class="o">=</span><span class="sb">`</span>curl --silent <span class="s2">&quot;http://weather.yahoo.com/canada/ontario/toron</span>
<span class="s2">to-4118/?unit=c&quot;</span><span class="sb">`</span>
curl --silent -o /tmp/weather.html <span class="s2">&quot;http://weather.yahoo.com/canada/ontario/toro</span>
<span class="s2">nto-4118/?unit=c&quot;</span>

<span class="k">if</span> <span class="o">[[</span> <span class="nv">$YAHOO_WEATHER_HTML</span> <span class="o">]]</span>; <span class="k">then</span>
<span class="k">        </span>curl --silent -o /tmp/weather.png <span class="k">$(</span>grep <span class="s1">&#39;div class=&quot;forecast-icon&quot; styl</span>
<span class="s1">e=&quot;background:url&#39;</span> /tmp/weather.html | awk -F<span class="s2">&quot;&#39;&quot;</span> <span class="s1">&#39;{ printf $2 }&#39;</span><span class="k">)</span>
<span class="k">fi</span>
</code></pre>
</div>

<h3 id="weather-forecast">Weather Forecast</h3>

<p><img src="/media/uploads/posts/2010-01-02-geektool/04-weather-forecast.png" alt="Weather Forecast" /></p>

<p>I am using <a href="http://ca.weather.yahoo.com/" rel="external">Yahoo Weather</a> to get the weather image.</p>

<pre><code>curl --silent "http://weather.yahooapis.com/forecastrss?p=CAXX0504&amp;u=c" | grep -E '(Current Conditions:|C&lt;BR)' | sed -e 's/Current Conditions://' -e 's///' -e 's/&lt;b&gt;//' -e 's///' -e 's///' -e 's///' -e 's///'&lt;/b&gt;
</code></pre>

    </section>
    
    <footer>
        <p class="tags"><a href="/tags/geektool/" rel="tag" class="tag">GeekTool</a>, <a href="/tags/mac-os-x/" rel="tag" class="tag">Mac OS X</a>, <a href="/tags/apple/" rel="tag" class="tag">Apple</a> and <a href="/tags/desktop/" rel="tag" class="tag">Desktop</a> </p>
	<p class="pagination"><a href="/journal/2009/12/project52/" title="Project52" rel="prev">&#x2190;Previous post</a> | <a href="/journal/2010/01/pygta/" title="Tornado at PyGTA" rel="next">Next post&#x2192;</a></p>
    </footer>
</article>

        </div>
        
        <footer id="bottom" class=" source-org copyright vcard">
            <div class="left">
                <p><strong class="org fn">Myles Braithwaite</strong></p>
                <p><a href="mailto:&#109;&#101;&#064;&#109;&#121;&#108;&#101;&#115;&#098;&#114;&#097;&#105;&#116;&#104;&#119;&#097;&#105;&#116;&#101;&#046;&#099;&#111;&#109;" title="Email Myles Braithwaite">&#109;&#101;&#064;&#109;&#121;&#108;&#101;&#115;&#098;&#114;&#097;&#105;&#116;&#104;&#119;&#097;&#105;&#116;&#101;&#046;&#099;&#111;&#109;</a></p>
                <p><a href="http://twitter.com/mylesb" title="Myles Braithwaite's Twitter Profile" rel="external">@mylesb</a></p>
            </div>
            
            <div class="right">
                <p>Copyright &copy; 2006-2012</p>
                <p><a rel="license" href="/about/license.html">Creative Commons License</a></p>
                <p>Powered by <a href="http://jekyllrb.com/" title="Jekyll - Transform your text into a monster." rel="external">Jekyll</a></p>
            </div>
        </footer>
    </div>
    
    <script type="text/javascript" charset="utf-8" src="/media/js/libs/jquery-1.4.4.js"></script>
    <script type="text/javascript" charset="utf-8" src="/media/js/libs/jquery.fancybox-1.3.4.js"></script>
    <script type="text/javascript" charset="utf-8" src="/media/js/libs/jquery.mousewheel-3.0.4.js"></script>
    <script type="text/javascript" charset="utf-8" src="/media/js/libs/jquery.easing-1.3.js"></script>
    <script type="text/javascript" charset="utf-8" src="/media/js/mylesbraithwaite.js"></script>
</body>
</html>
